"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2605],{3905:function(n,e,t){t.d(e,{Zo:function(){return u},kt:function(){return f}});var r=t(7294);function o(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){o(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function l(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},a=Object.keys(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}var c=r.createContext({}),i=function(n){var e=r.useContext(c),t=e;return n&&(t="function"==typeof n?n(e):s(s({},e),n)),t},u=function(n){var e=i(n.components);return r.createElement(c.Provider,{value:e},n.children)},p={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},m=r.forwardRef((function(n,e){var t=n.components,o=n.mdxType,a=n.originalType,c=n.parentName,u=l(n,["components","mdxType","originalType","parentName"]),m=i(t),f=o,g=m["".concat(c,".").concat(f)]||m[f]||p[f]||a;return t?r.createElement(g,s(s({ref:e},u),{},{components:t})):r.createElement(g,s({ref:e},u))}));function f(n,e){var t=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var a=t.length,s=new Array(a);s[0]=m;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=n,l.mdxType="string"==typeof n?n:o,s[1]=l;for(var i=2;i<a;i++)s[i]=t[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6098:function(n,e,t){t.r(e),t.d(e,{assets:function(){return u},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return l},metadata:function(){return i},toc:function(){return p}});var r=t(7462),o=t(3366),a=(t(7294),t(3905)),s=["components"],l={},c=void 0,i={unversionedId:"javascript/\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3",id:"javascript/\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3",title:"\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3",description:"\u51fd\u6570",source:"@site/docs\\javascript\\\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3.md",sourceDirName:"javascript",slug:"/javascript/\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3",permalink:"/docs/javascript/\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/javascript/\u624b\u5199\u5b9e\u73b0\u5f52\u7eb3.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"ES6",permalink:"/docs/javascript/ES6"},next:{title:"React\u57fa\u7840",permalink:"/docs/react/React\u57fa\u7840"}},u={},p=[{value:"\u51fd\u6570",id:"\u51fd\u6570",level:2},{value:"call",id:"call",level:3},{value:"apply",id:"apply",level:3},{value:"bind",id:"bind",level:3},{value:"\u6df1\u62f7\u8d1d\u6d45\u62f7\u8d1d",id:"\u6df1\u62f7\u8d1d\u6d45\u62f7\u8d1d",level:3},{value:"\u6d45\u62f7\u8d1d",id:"\u6d45\u62f7\u8d1d",level:4},{value:"\u6df1\u62f7\u8d1d",id:"\u6df1\u62f7\u8d1d",level:4},{value:"\u51fd\u6570\u9632\u6296\u51fd\u6570\u8282\u6d41",id:"\u51fd\u6570\u9632\u6296\u51fd\u6570\u8282\u6d41",level:3},{value:"\u51fd\u6570\u9632\u6296",id:"\u51fd\u6570\u9632\u6296",level:4},{value:"\u51fd\u6570\u8282\u6d41",id:"\u51fd\u6570\u8282\u6d41",level:4},{value:"\u6570\u7ec4\u65b9\u6cd5",id:"\u6570\u7ec4\u65b9\u6cd5",level:2},{value:"\u6570\u7ec4\u65b9\u6cd5\u5b9e\u73b0",id:"\u6570\u7ec4\u65b9\u6cd5\u5b9e\u73b0",level:3},{value:"\u5224\u65ad\u6570\u7ec4",id:"\u5224\u65ad\u6570\u7ec4",level:3},{value:"\u6570\u7ec4\u53bb\u91cd",id:"\u6570\u7ec4\u53bb\u91cd",level:3},{value:"\u6253\u5e73\u6570\u7ec4",id:"\u6253\u5e73\u6570\u7ec4",level:3},{value:"\u539f\u578b\u76f8\u5173",id:"\u539f\u578b\u76f8\u5173",level:2},{value:"new\u5b9e\u73b0",id:"new\u5b9e\u73b0",level:3},{value:"instanceof\u5b9e\u73b0",id:"instanceof\u5b9e\u73b0",level:3},{value:"\u7ee7\u627f",id:"\u7ee7\u627f",level:3},{value:"es5\u7ee7\u627f",id:"es5\u7ee7\u627f",level:4},{value:"class\u7ee7\u627f",id:"class\u7ee7\u627f",level:4},{value:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf",id:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf",level:3},{value:"\u63d0\u524d\u7ea6\u5b9a\u597d\u79c1\u6709\u53d8\u91cf",id:"\u63d0\u524d\u7ea6\u5b9a\u597d\u79c1\u6709\u53d8\u91cf",level:4},{value:"\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u7ed3\u5408\u95ed\u5305+Symbol",id:"\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u7ed3\u5408\u95ed\u5305symbol",level:4},{value:"ES6",id:"es6",level:2},{value:"Promise",id:"promise",level:3},{value:"Promise.all\u5b9e\u73b0",id:"promiseall\u5b9e\u73b0",level:4},{value:"Promise.race\u5b9e\u73b0",id:"promiserace\u5b9e\u73b0",level:4},{value:"\u53d1\u5e03\u8ba2\u9605",id:"\u53d1\u5e03\u8ba2\u9605",level:3},{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",level:4},{value:"\u6dfb\u52a0once\u3001remove\u51fd\u6570",id:"\u6dfb\u52a0onceremove\u51fd\u6570",level:4}],m={toc:p};function f(n){var e=n.components,t=(0,o.Z)(n,s);return(0,a.kt)("wrapper",(0,r.Z)({},m,t,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"\u51fd\u6570"},"\u51fd\u6570"),(0,a.kt)("h3",{id:"call"},"call"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'Function.prototype._call = function (context, ...args) {\n  context = context || window;\n  context.fn = this;\n  const result = context.fn(...args);\n  delete context.fn;\n  return result;\n};\nconst obj = {\n  name: "cjz",\n  age: 20,\n};\n\nvar name = "ccc";\nfunction getName() {\n  console.log(this.name);\n}\ngetName(); //  ccc\ngetName._call(obj); //  cjz\n')),(0,a.kt)("h3",{id:"apply"},"apply"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Function.prototype._apply = function (context, args = []) {\n  context = context || window;\n  context.fn = this;\n  let result;\n  if (Array.isArray(args)) {\n    result = context.fn(...args);\n  } else {\n    result = context.fn();\n  }\n  delete context.fn;\n  return result;\n};\n")),(0,a.kt)("h3",{id:"bind"},"bind"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Function.prototype._bind = function (context, ...args) {\n  return (...newArgs) => {\n    return this.call(context, ...args, ...newArgs);\n  };\n};\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u7ec3\u4e60")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'const obj1 = {\n  name: "cpp",\n  age: 222,\n  getName() {\n    console.log(this.name);\n  },\n};\n// \u5c06obj1\u4f20\u7ed9this\uff0cthis.name\u4e3aobj1.name\nobj1.getName(); //  cpp\n')),(0,a.kt)("h3",{id:"\u6df1\u62f7\u8d1d\u6d45\u62f7\u8d1d"},"\u6df1\u62f7\u8d1d\u6d45\u62f7\u8d1d"),(0,a.kt)("h4",{id:"\u6d45\u62f7\u8d1d"},"\u6d45\u62f7\u8d1d"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"")),(0,a.kt)("h4",{id:"\u6df1\u62f7\u8d1d"},"\u6df1\u62f7\u8d1d"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1aObject.entries()"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const arr = [1, 2, 3]\nfor(const [key, value] of Object.entries(arr)) {\n    console.log(key, value)\n}\n// 0 1\n// 1 2\n// 2 3\nconst obj = {\n    name: 'cpp',\n    age: 22,\n    hobbies: ['game', 'music']\n}\nfor(const [key, value] of Object.entries(obj)) {\n    console.log(key, value)\n}\n// name cpp\n// age 22\n// hobbies (2)\xa0['game', 'music']\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u7b80\u5355\u7248\u672c\nfunction deepClone(source) {\n    let target = null\n    if(typeof source === 'object' && source !== null) {\n        target = Array.isArray(source) ? [] : {}\n        for(const [key, value] of Object.entries(source)) {\n            target[key] = deepClone(value)\n        }\n    } else {\n        target = source\n    }\n    return target\n}\n// \u4f46\u65e0\u6cd5\u89e3\u51b3\u5faa\u73af\u5f15\u7528\u7684\u95ee\u9898\nconst parent = {\n    id: 1,\n    name: 'father',\n    children: []\n}\nparent.children.push(parent)\ndeepClone(parent)  // \u62a5\u9519\uff0c\u6808\u6ea2\u51fa\n\n// \u590d\u6742\u7248\u672c\n// \u4f7f\u7528weakMap\u89e3\u51b3\u5faa\u73af\u5f15\u7528\nfunction deepClone(source, hash = new WeakMap()) {\n    let target = null\n    if(hash.has(source)) {\n        return hash.get(source)\n    }\n    if(typeof source === 'object' && typeof source !== null) {\n        target = Array.isArray(source) ? [] : {}\n        hash.set(source, target)\n        for(const [key, value] of Object.entries(source)) {\n            target[key] = deepClone(value, hash)\n        }\n    } else {\n        target = source\n    }\n    return target\n}\n\n\n")),(0,a.kt)("h3",{id:"\u51fd\u6570\u9632\u6296\u51fd\u6570\u8282\u6d41"},"\u51fd\u6570\u9632\u6296\u51fd\u6570\u8282\u6d41"),(0,a.kt)("h4",{id:"\u51fd\u6570\u9632\u6296"},"\u51fd\u6570\u9632\u6296"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>\u51fd\u6570\u9632\u6296</title>\n</head>\n<body>\n  <input type="text"/>\n  <script>\n    const input = document.querySelector(\'input\')\n    input.addEventListener(\'input\', debounce(fn, 2000))\n    function fn() {\n      console.log(this.value)\n    }\n    function debounce(fn, delay) {\n      let timer = null\n      return function() {\n        if(timer) clearTimeout(timer)\n        timer = setTimeout(() => {\n          fn.call(this)\n        }, delay);\n      }\n    }\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("h4",{id:"\u51fd\u6570\u8282\u6d41"},"\u51fd\u6570\u8282\u6d41"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta http-equiv="X-UA-Compatible" content="IE=edge">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>\u51fd\u6570\u8282\u6d41</title>\n  <style>\n    body {\n      height: 3000px;\n      background-color: aqua;\n    }\n  </style>\n</head>\n<body>\n  <script>\n    // window.addEventListener(\'scroll\', fn)\n    window.addEventListener(\'scroll\', throttle(fn, 500))\n    function fn() {\n      console.log(this)\n    }\n    function throttle(fn, delay) {\n      let canRun = true\n      return function() {\n        if(!canRun) return false\n        canRun = false\n        setTimeout(() => {\n          fn.call(this)\n          canRun = true\n        }, delay);\n      }\n    }\n  <\/script>\n</body>\n</html>\n')),(0,a.kt)("h2",{id:"\u6570\u7ec4\u65b9\u6cd5"},"\u6570\u7ec4\u65b9\u6cd5"),(0,a.kt)("h3",{id:"\u6570\u7ec4\u65b9\u6cd5\u5b9e\u73b0"},"\u6570\u7ec4\u65b9\u6cd5\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// find\nconst arr = [1, 2, 3, 4]\nArray.prototype._find = function (fn, thisArg) {\n    if(fn.constructor !== Function) {\n        throw new Error(fn +'is not a function')\n    }\n    for(let i = 0; i < this.length; i++) {\n        if(fn.call(thisArg, this[i], i, this)) {\n            return this[i]\n        }\n    }\n}\n\narr._find(item => item ===1) // 1\n\n// forEach\nArray.prototype._forEach = function(fn, thisArg) {\n    if(fn.constructor !== Function) {\n        throw new Error(fn +'is not a function')\n    }\n\n    for(let i = 0; i < this.length; i++) {\n        fn.call(thisArg, this[i], i, this)\n    }\n}\narr._forEach(item => {\n    console.log(item)   \n})\n// 1\n// 2\n// 3\n// 4\n\n// map\nArray.prototype._map = function(fn, thisArg) {\n    if(fn.constructor !== Function) {\n        throw new Error(fn +'is not a function')\n    }\n    const newArr = []\n    for(let i = 0; i < this.length; i++) {\n        newArr.push(fn.call(thisArg, this[i], i, this))\n    }\n    return newArr\n}\narr._map(item => item * item) //\xa0[1, 4, 9, 16]\n\n// filter\nArray.prototype._filter = function(fn, thisArg) {\n    if(fn.constructor !== Function) {\n        throw new Error(fn +'is not a function')\n    }\n    const newArr = []\n    for(let i = 0; i < this.length; i++) {\n        if(fn.call(thisArg, this[i], i, this)) {\n            newArr.push(this[i])\n        }\n    }\n    return newArr\n}\narr._filter(item => item < 3) //\xa0[1, 2]\n")),(0,a.kt)("h3",{id:"\u5224\u65ad\u6570\u7ec4"},"\u5224\u65ad\u6570\u7ec4"),(0,a.kt)("h3",{id:"\u6570\u7ec4\u53bb\u91cd"},"\u6570\u7ec4\u53bb\u91cd"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function unique(arr) {\n    let newArr = []\n    for(const item of arr) {\n        if(!newArr.includes(item)) {\n            newArr.push(item)\n        } \n    }\n    return newArr\n}\n\n[...new Set(arr)]\n\nArray.from(...new Set(arr))\n")),(0,a.kt)("h3",{id:"\u6253\u5e73\u6570\u7ec4"},"\u6253\u5e73\u6570\u7ec4"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function flatten(arr, result = []) {\n    for (const item of arr) {\n        if (Array.isArray(item)) {\n            flatten(item, result )\n        } else {\n            result.push(item)\n        }\n    }\n    return result;\n}\n\nfunction flatten2(arr) {\n    let newArr = []\n    arr.forEach(item => {\n        if(Array.isArray(item)) {\n            newArr = newArr.concat(flatten2(item)) // \u51fd\u6570\u8c03\u7528\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u4f5c\u7528\u57df\n        } else {\n            newArr.push(item)\n        }\n    })\n    return newArr\n}\n")),(0,a.kt)("h2",{id:"\u539f\u578b\u76f8\u5173"},"\u539f\u578b\u76f8\u5173"),(0,a.kt)("h3",{id:"new\u5b9e\u73b0"},"new\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'function Fn(name, age) {\n  this.name = name;\n  this.age = age;\n}\nfunction myNew(Fn, ...args) {\n  const obj = Object.create(Fn.prototype);\n  const result = Fn.call(obj, ...args);\n  return result instanceof Object ? result : obj;\n}\nconst result = myNew(Fn, "cpp", 22);\nconsole.log(result);\nconst result2 = new Fn("cpp", 22);\nconsole.log(result2);\n')),(0,a.kt)("h3",{id:"instanceof\u5b9e\u73b0"},"instanceof\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function myInstanceof(a, b) {\n    if(typeof a !== 'object' || typeof a === null) return false\n    let proto = Object.getPrototypeOf(a)\n    while(true) {\n        if(proto === null) return false\n        if(proto === b.prototype) return true\n        proto = Object.getPrototypeOf(proto)\n    }\n}\n")),(0,a.kt)("h3",{id:"\u7ee7\u627f"},"\u7ee7\u627f"),(0,a.kt)("h4",{id:"es5\u7ee7\u627f"},"es5\u7ee7\u627f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"function Person(name, age){\n    this.name = name\n    this.age = age\n    this.setAge = function(age) {\n        this.age = age\n    }\n}\n\n// \u5bc4\u751f\u866b\u7ee7\u627f\nfunction Teacher2(count, ...args) {\n    Person.call(this, ...args)\n    this.count = count\n    this.setCount = function(count) {\n        this.count = count\n    }\n}\nTeacher2.prototype = Object.create(Person.prototype)\nTeacher2.prototype.constructor = Teacher2\n\nconst t2 = new Teacher2(33, 'cjz', 22)\nt2.name\n// 'cjz'\nt2.age\n// 22\nt2.count\n// 33\n")),(0,a.kt)("h4",{id:"class\u7ee7\u627f"},"class\u7ee7\u627f"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// class\u7ee7\u627f  Person  Teacher\nclass Person {\n    constructor(name, age) {\n        this.name = name\n        this.age = age\n    }\n    // \u539f\u578b\u4e0a\n    setAge(age) {\n        this.age = age\n    }\n}\nclass Teacher extends Person {\n    constructor(name, age, count) {\n        super(name, age)\n        this.count = count\n    }\n    setCount(count) {\n        this.count = count\n    }\n}\n\nconst t = new Teacher('cpp', 22, 50)\nt.name\n// 'cpp'\nt.age\n// 22\nt.setAge(24)\nt.age\n//24\nt.count\n// 50\nt.setCount(60)\nt.count\n// 60\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class People {\n    constructor(name, age) {\n        this.name = name\n        this.age = age\n    }\n    getAge() {\n        console.log(this.age)\n    }\n}\nclass Study extends People {\n    constructor(name, age, homework) {\n        super(name, age)\n        this.job = homework\n    }\n}\n\nfunction People(name, age) {\n    this.name = name\n    this.age = age\n}\nPeople.prototype.getAge = function() {\n    console.log(this.age)\n}\nfunction Study(name, age, homework) {\n    People.call(this, name, age)\n    this.homework = homework\n}\nStudy.prototype = Object.create(People.prototype)\nStudy.prototype.constructor = Study\n")),(0,a.kt)("h3",{id:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf"},"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf"),(0,a.kt)("h4",{id:"\u63d0\u524d\u7ea6\u5b9a\u597d\u79c1\u6709\u53d8\u91cf"},"\u63d0\u524d\u7ea6\u5b9a\u597d\u79c1\u6709\u53d8\u91cf"),(0,a.kt)("h4",{id:"\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u7ed3\u5408\u95ed\u5305symbol"},"\u6bd4\u8f83\u597d\u7684\u65b9\u6cd5\u662f\u7ed3\u5408\u95ed\u5305+Symbol"),(0,a.kt)("p",null,"\u5982\u9898\u76ee\uff1a\u521b\u5efa\u4e00\u4e2a Person \u7c7b\uff0c\u5176\u5305\u542b\u516c\u6709\u5c5e\u6027 name \u548c\u79c1\u6709\u5c5e\u6027 age \u4ee5\u53ca\u516c\u6709\u65b9\u6cd5 setAge \uff1b\u521b\u5efa\u4e00\u4e2a Teacher \u7c7b\uff0c\u4f7f\u5176\u7ee7\u627f Person \uff0c\u5e76\u5305\u542b\u79c1\u6709\u5c5e\u6027 studentCount \u548c\u79c1\u6709\u65b9\u6cd5 setStudentCount \u3002"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u4e00")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"\nconst [Person, Teacher] = (function() {\n    const _age = Symbol('age')\n    const _studentCount = Symbol('studentCount')\n    const _setStudentCount = Symbol('setStudentCount')\n    class Person {\n        constructor(name, age) {\n            this.name = name\n            this[_age] = age\n        }\n        setAge(age) {\n            this[_age] = age\n        }\n        getAge() {\n            return this[_age]\n        }\n    }\n\n    class Teacher extends Person {\n        constructor(name, age, count) {\n            super(name, age)\n            this[_studentCount] = count\n        }\n        [_setStudentCount](count) {\n            this[_studentCount] = count\n        }\n        getStudentCount() {\n            return this[_studentCount]\n        }\n    }\n    return [Person, Teacher]\n})()\nconst t = new Teacher('cpp', 22, 40)\nt.name\n// 'cpp'\nt.getAge()\n// 22\nt.getStudentCount()\n// 40\n\nt.setAge(24)\nt.getAge()\n// 24\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u4e8c")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"const Person = (function() {\n    const _age = Symbol('age')\n    function Person(name, age) {\n        this.name = name\n        this[_age] = age\n    }\n    Person.prototype.setAge = function(age) {\n        this[_age] = age\n    }\n    return Person\n})()\n\nconst Teacher = (function() {\n    const _studentCount = Symbol('studentCount')\n    const _setStudentCount = Symbol('setStudentCount')\n    function Teacher(count, ...args) {\n        this[_studentCount] = count\n        Person.call(this, ...args)\n    }\n    Teacher.prototype[_setStudentCount] = function(count) {\n        this[_studentCount] = count\n    }\n    return Teacher\n})()\n// \u7ee7\u627f\nTeacher.prototype = Object.create(Person.prototype)\nTeacher.prototype.constructor = Teacher\n\u0192 Teacher(count, ...args) {\n        this[_studentCount] = count\n        Person.call(this, ...args)\n    }\nconst t = new Teacher(44, 'cpp', 22)\nt.setAge(20)\nt\n")),(0,a.kt)("h2",{id:"es6"},"ES6"),(0,a.kt)("h3",{id:"promise"},"Promise"),(0,a.kt)("h4",{id:"promiseall\u5b9e\u73b0"},"Promise.all\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise._all = function (pArr) {\n    return new Promise((resolve, reject) => {\n      const newArr = []\n      const len = pArr.length\n      let count = 0\n      pArr.forEach((p, i) => {\n          p.then(value => {\n              newArr[i] = value\n              count++\n              if(count === len) {\n                  resolve(newArr)\n              }\n          }, err => reject(err))\n      })\n  }) \n}\nlet p1 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(1);\n        resolve(1)\n    }, 3000)\n})\nlet p2 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(2);\n        resolve(2)\n    }, 2000)\n})\nlet p3 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(3);\n        resolve(3)\n    }, 1000)\n})\nPromise._all([p1, p2, p3])\n")),(0,a.kt)("h4",{id:"promiserace\u5b9e\u73b0"},"Promise.race\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"Promise._race = function(promiseArr) {\n    return new Promise((resolve, reject) => {\n        promiseArr.forEach((promise) => {\n            promise.then(value => {\n                resolve(value)\n            }, reason => {\n                reject(reason)\n            })\n        })\n    })\n}\nlet p1 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(1);\n        resolve(1)\n    }, 3000)\n})\nlet p2 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(2);\n        resolve(2)\n    }, 2000)\n})\nlet p3 = new Promise((resolve,reject)=>{\n    setTimeout(() => {\n        console.log(3);\n        resolve(3)\n    }, 1000)\n})\nPromise._race([p1, p2, p3])\n")),(0,a.kt)("h3",{id:"\u53d1\u5e03\u8ba2\u9605"},"\u53d1\u5e03\u8ba2\u9605"),(0,a.kt)("h4",{id:"\u5b9e\u73b0"},"\u5b9e\u73b0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"class EventEmitter {\n    constructor() {\n        this.list = {}\n    }\n    on(name, fn, type = 1) {\n        if(!this.list[name]) {\n            this.list[name] = []\n        }\n        this.list[name].push([fn, type])\n    }\n    emit(name, ...args) {\n        const fns = this.list[name]\n        if (!fns || fns.length === 0) return\n        fns.forEach((fn, index)=> {\n            fn[0](...args)\n            if(fn[1] === 0) {\n                this.list[name].splice(index, 1)\n            }\n        })\n    }\n}\n\nlet bus = new EventEmitter()\nbus.on('click', (value) => {\n     console.log(value, 111)   \n}, 1)\nbus.on('click', (value) => {\n    console.log(value, 222)\n}, 0)\nundefined\nbus.emit('click', 'test')\n// test 111\n// test 222\n\nbus\n")),(0,a.kt)("h4",{id:"\u6dfb\u52a0onceremove\u51fd\u6570"},"\u6dfb\u52a0once\u3001remove\u51fd\u6570"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"\nclass EventEmitter {\n    constructor() {\n        this.list = {}\n    }\n    on(name, fn, type = 1) {\n        if(!this.list[name]) {\n            this.list[name] = []\n        }\n        this.list[name].push([fn, type])\n    }\n    once(name, fn) {\n        this.on(name, fn, 0)\n    }\n    emit(name, ...args) {\n        const fns = this.list[name]\n        fns.forEach((fn, index)=> {\n            fn[0](...args)\n            if(fn[1] === 0) {\n                this.list[name].splice(index, 1)\n            }\n        })\n    }\n    remove(name, func) {\n        const fns = this.list[name]\n        if(!fns) return \n        fns.forEach((fn, index) => {\n            if(fn[0] === func) {\n                this.list[name].splice(index, 1)\n            }\n        })\n        \n    }\n}\n\nlet bus = new EventEmitter()\nbus.on('click', (value) => {\n     console.log(value, 111)   \n}, 1)\nbus.on('click', (value) => {\n    console.log(value, 222)\n}, 0)\nbus.emit('click', 'test')\n// test 111\n// test 222\n")))}f.isMDXComponent=!0}}]);