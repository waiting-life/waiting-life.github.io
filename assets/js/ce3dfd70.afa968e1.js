"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8280],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):u(u({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),c=p(n),d=o,k=c["".concat(l,".").concat(d)]||c[d]||m[d]||a;return n?r.createElement(k,u(u({ref:t},s),{},{components:n})):r.createElement(k,u({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,u=new Array(a);u[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,u[1]=i;for(var p=2;p<a;p++)u[p]=n[p];return r.createElement.apply(null,u)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9651:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return p},default:function(){return g},frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c}});var r,o=n(7462),a=n(3366),u=(n(7294),n(3905)),i=["components"],l={},p=void 0,s={unversionedId:"react/ReactRouter",id:"react/ReactRouter",title:"ReactRouter",description:"\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f",source:"@site/docs/react/ReactRouter.md",sourceDirName:"react",slug:"/react/ReactRouter",permalink:"/docs/react/ReactRouter",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/react/ReactRouter.md",tags:[],version:"current",frontMatter:{}},m={},c=[{value:"\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f",id:"\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f",level:3},{value:"React Router6",id:"react-router6",level:3},{value:"hooks",id:"hooks",level:3}],d=(r="About",function(e){return console.warn("Component "+r+" was not imported, exported, or provided by MDXProvider as global scope"),(0,u.kt)("div",e)}),k={toc:c};function g(e){var t=e.components,n=(0,a.Z)(e,i);return(0,u.kt)("wrapper",(0,o.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,u.kt)("h3",{id:"\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f"},"\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f"),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"router.ts")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-ts"},"import AntdTest from '../pages/AntdTest'\nimport ReduxTest from '../pages/ReduxTest'\nimport Home from '../pages/Home'\nimport Login from '../pages/Login'\nimport Other from '../pages/Other'\nimport Test from '../pages/Test'\nimport ReactTest from '../pages/ReactTest'\n\n// () => import(/* webpackChunkName: \"about\" */'../pages/Home')\n\nexport interface RouteItem {\n  path: string;\n  title?: string;\n  component?: any;\n  redirect?: string;\n  routes?: RouteItem[]\n}\n\nexport const routes: RouteItem[] = [\n  {\n    path: '/home', \n    title: '\u9996\u9875',\n    component: Home\n  },\n  {\n    path: '/mytest',\n    title: '\u6211\u7684\u7ec3\u4e60',\n    routes: [\n      {\n        path: '/antd-test',\n        title: 'antd\u7ec3\u4e60',\n        component: AntdTest\n      },\n      {\n        path: '/react-test',\n        title: 'react\u7ec3\u4e60',\n        component: ReactTest\n      },\n      {\n        path: '/redux-test',\n        title: 'redux\u6d4b\u8bd5',\n        component: ReduxTest\n      },\n    ]\n  },\n  {\n    path: '/other',\n    title: '\u5176\u4ed6',\n    component: Other\n  },\n  {\n    path: '/test',\n    title: '\u6d4b\u8bd5',\n    component: Test\n  },\n  {\n    path: '/login',\n    component: Login\n  },\n]\n")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"APP.tsx")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-tsx"},"// \u8def\u7531\u8ddf\u7ec4\u4ef6\u5339\u914d\nfunction RouteWithSubRoutes(MyRoute: RouteItem) {\n  return (\n    <Route\n      path={MyRoute.path} \n      render={props => (\n        <MyRoute.component {...props} routes={MyRoute.routes} />\n      )}\n    />\n  );\n}\n\n// \u9012\u5f52\u751f\u6210\u8def\u7531\nfunction* generateRoutes(routes: RouteItem[]): any {\n  for (const route of routes) {\n    yield  <RouteWithSubRoutes key={route.path} {...route} />\n    if (route.routes) {\n      yield* generateRoutes(route.routes)\n    }\n  }\n}\n\n<Switch>\n  {Array.from(generateRoutes(routes))}\n</Switch>\n")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"antd\u4e2d\uff0c\u6839\u636eroutes\u751f\u6210\u5bf9\u5e94menu")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-tsx"},"interface RouteItem {\n  path: string;\n  title?: string;\n  component?: any;\n  redirect?: string;\n  routes?: RouteItem[]\n}\ntype MenuItem = Required<MenuProps>['items'][number];\n\nfunction getItems(routes: RouteItem[]) {\n  let arr: MenuItem[] = []\n  routes\n  .filter((item) => item.title)\n  .forEach((item) => {\n    arr.push({\n        key: item.path,\n        label: item.title,\n        children: item.routes && getItems(item.routes) \n    })\n  })\n  return arr\n}\nconst items: MenuItem[] = getItems(routes)\n\n\n<Menu\n  onClick={handleMenuItem}\n  defaultSelectedKeys={['/home']}\n  defaultOpenKeys={['sub1']}\n  mode=\"inline\"\n  theme=\"dark\"\n  items={items} \n/>\n")),(0,u.kt)("h3",{id:"react-router6"},"React Router6"),(0,u.kt)("p",null,"\u4e0eReact router5\u76f8\u6bd4"),(0,u.kt)("ul",null,(0,u.kt)("li",{parentName:"ul"},"\u5185\u7f6e\u7ec4\u4ef6\u7684\u53d8\u5316\uff1a\u79fb\u9664\u4e86Switch\uff0c\u65b0\u589eRoutes"),(0,u.kt)("li",{parentName:"ul"},"\u8bed\u6cd5\u7684\u53d8\u5316\uff1acomponent={About}\u53d8\u4e3aelement={",(0,u.kt)(d,{mdxType:"About"}),"}"),(0,u.kt)("li",{parentName:"ul"},"\u65b0\u589e\u591a\u4e2ahook\uff1a",(0,u.kt)("inlineCode",{parentName:"li"},"useParams"),"\uff0c",(0,u.kt)("inlineCode",{parentName:"li"},"useNavigate"),"\uff0c",(0,u.kt)("inlineCode",{parentName:"li"},"useMatch")),(0,u.kt)("li",{parentName:"ul"},"React Router6\u60f3\u8981\u81ea\u5b9a\u4e49\u7c7b\u540d\uff0c\u9700\u8981\u5c06className\u5199\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-tsx"},"<Routes>\n    <Route path='/about' element={<About />} />\n  <Route path='/home' element={<Home />} />\n  <Route path='/' element={<Navigate to='/about' replace={true} />} />\n</Routes>\n")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"2. ",(0,u.kt)("inlineCode",{parentName:"strong"},"<Navigate/>"))),(0,u.kt)("ul",null,(0,u.kt)("li",{parentName:"ul"},"\u4f5c\u7528\uff1a\u53ea\u8981Naviagate\u7ec4\u4ef6\u88ab\u6e32\u67d3\uff0c\u5c31\u4f1a\u4fee\u6539\u8def\u5f84\uff0c\u5207\u6362\u89c6\u56fe\u3002"),(0,u.kt)("li",{parentName:"ul"},"replace\u5c5e\u6027\u7528\u4e8e\u63a7\u5236\u8df3\u8f6c\u6a21\u5f0f\uff08push\u8fd8\u662freplace\u9ed8\u8ba4\u662fpush\uff09")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"3. ",(0,u.kt)("inlineCode",{parentName:"strong"},"<Routes/>"),"\u4e0e ",(0,u.kt)("inlineCode",{parentName:"strong"},"<Route/>"))),(0,u.kt)("ul",null,(0,u.kt)("li",{parentName:"ul"},(0,u.kt)("inlineCode",{parentName:"li"},"<Routes/>"),"\u8981\u548c",(0,u.kt)("inlineCode",{parentName:"li"},"<Route/>"),"\u7ed3\u5408\u4f7f\u7528\uff0c\u4e14",(0,u.kt)("inlineCode",{parentName:"li"},"<Routes/>"),"\u5fc5\u987b\u5305\u88f9",(0,u.kt)("inlineCode",{parentName:"li"},"<Route/>")),(0,u.kt)("li",{parentName:"ul"},"\u5f53URL\u53d8\u5316\u7684\u65f6\u5019\uff0c",(0,u.kt)("inlineCode",{parentName:"li"},"<Routes/>"),"\u4f1a\u67e5\u770b\u5176\u6240\u6709\u7684",(0,u.kt)("inlineCode",{parentName:"li"},"<Route/>"),"\u5143\u7d20\u4ee5\u627e\u5230\u6700\u4f73\u5339\u914d\u5448\u73b0\u7ec4\u4ef6\u3002"),(0,u.kt)("li",{parentName:"ul"},(0,u.kt)("inlineCode",{parentName:"li"},"<Route/>"),"\u4e5f\u53ef\u4ee5\u5d4c\u5957\u4f7f\u7528\uff0c\u4e14\u53ef\u914d\u5408",(0,u.kt)("inlineCode",{parentName:"li"},"useRoutes"),"\u914d\u7f6e\u8def\u7531\u8868\uff0c\u5355\u9700\u8981",(0,u.kt)("inlineCode",{parentName:"li"},"<Outlet/>"),"\u7ec4\u4ef6\u6765\u6e32\u67d3\u5176\u5b50\u8def\u7531")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"4. ",(0,u.kt)("inlineCode",{parentName:"strong"},"<Outlet />"))),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"5. \u8def\u7531\u8868\u548c\u5d4c\u5957\u8def\u7531")),(0,u.kt)("pre",null,(0,u.kt)("code",{parentName:"pre",className:"language-tsx"},"export default routes = [\n  {\n    path: '/about',\n    element: <About />\n  },\n  {\n    path: '/home',\n    element: <Home />,\n    children: [\n      {\n        path: 'news',\n        element: <News />\n      },\n      {\n        path: 'message',\n        element: <Message />\uff0c\n        children: [\n            {\n                path: 'detail/:id/:itle/:content',\n                element: <Detail />\n            }\n        ]\n      }\n    ]\n  },\n  {\n    path: '/',\n    element: <Navigate to='/about' />\n  }\n])\n\nexport const Demo = () => {\n  return (\n    <>\n        <NavLink to=\"news\">News</NavLink>\n      {/*\u70b9\u51fb\u5b50\u8def\u7531\u4e0d\u60f3\u8ba9\u7236\u7ec4\u4ef6\u6709\u9ad8\u4eae\u7684\u8bdd\u6dfb\u52a0end*/}\n      <NavLink to=\"message\" end>Message</NavLink>\n        {/* \u6307\u5b9a\u8def\u7531\u7ec4\u4ef6\u663e\u793a\u7684\u4f4d\u7f6e */}\n        <Outlet />\n    </>\n  )\n}\n")),(0,u.kt)("h3",{id:"hooks"},"hooks"),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useRoutes")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useParams")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useMatch")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useSearchParams")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useLocation")),(0,u.kt)("p",null,(0,u.kt)("strong",{parentName:"p"},"useNavigate")))}g.isMDXComponent=!0}}]);