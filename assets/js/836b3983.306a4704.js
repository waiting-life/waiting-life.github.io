"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7975],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return g}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=o.createContext({}),l=function(e){var n=o.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},u=function(e){var n=l(e.components);return o.createElement(p.Provider,{value:n},e.children)},i={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),m=l(t),g=a,b=m["".concat(p,".").concat(g)]||m[g]||i[g]||r;return t?o.createElement(b,s(s({ref:n},u),{},{components:t})):o.createElement(b,s({ref:n},u))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,s=new Array(r);s[0]=m;var c={};for(var p in n)hasOwnProperty.call(n,p)&&(c[p]=n[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,s[1]=c;for(var l=2;l<r;l++)s[l]=t[l];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3605:function(e,n,t){t.r(n),t.d(n,{assets:function(){return u},contentTitle:function(){return p},default:function(){return g},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return i}});var o=t(7462),a=t(3366),r=(t(7294),t(3905)),s=["components"],c={},p=void 0,l={unversionedId:"javascript/\u5bf9\u8c61",id:"javascript/\u5bf9\u8c61",title:"\u5bf9\u8c61",description:"\u5bf9\u8c61\u65b9\u6cd5",source:"@site/docs\\javascript\\\u5bf9\u8c61.md",sourceDirName:"javascript",slug:"/javascript/\u5bf9\u8c61",permalink:"/docs/javascript/\u5bf9\u8c61",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/javascript/\u5bf9\u8c61.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u6570\u7ec4",permalink:"/docs/javascript/\u6570\u7ec4"},next:{title:"\u51fd\u6570",permalink:"/docs/javascript/\u51fd\u6570"}},u={},i=[{value:"\u5bf9\u8c61\u65b9\u6cd5",id:"\u5bf9\u8c61\u65b9\u6cd5",level:2},{value:"\u9759\u6001\u65b9\u6cd5",id:"\u9759\u6001\u65b9\u6cd5",level:3},{value:"Object.fromEntries()",id:"objectfromentries",level:3},{value:"\u5b9e\u4f8b\u65b9\u6cd5",id:"\u5b9e\u4f8b\u65b9\u6cd5",level:3},{value:"\u539f\u578b",id:"\u539f\u578b",level:2},{value:"\u7ee7\u627f",id:"\u7ee7\u627f",level:2},{value:"es5\u7ee7\u627f",id:"es5\u7ee7\u627f",level:3},{value:"es6\u5b9e\u73b0\u7ee7\u627f",id:"es6\u5b9e\u73b0\u7ee7\u627f",level:3},{value:"\u5b9e\u73b0new",id:"\u5b9e\u73b0new",level:2},{value:"\u5b9e\u73b0instanceof",id:"\u5b9e\u73b0instanceof",level:2},{value:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf",id:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf",level:2},{value:"\u5b9e\u73b0\u6df1\u62f7\u8d1d",id:"\u5b9e\u73b0\u6df1\u62f7\u8d1d",level:2}],m={toc:i};function g(e){var n=e.components,t=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u5bf9\u8c61\u65b9\u6cd5"},"\u5bf9\u8c61\u65b9\u6cd5"),(0,r.kt)("h3",{id:"\u9759\u6001\u65b9\u6cd5"},"\u9759\u6001\u65b9\u6cd5"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.getPrototypeOf()"),": \u8fd4\u56de\u6307\u5b9a\u5bf9\u8c61\u7684\u539f\u578b\uff08\u5185\u90e8[","[Prototype]","]\u5c5e\u6027\u7684\u503c\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function People(name, age) {\n    this.name = name\n    this.age = age \n}\nObject.getPrototypeOf(p) === People.prototype // true\n// \u56e0\u4e3ap.__proto__ === People.prototype\nObject.getPrototypeOf(p) === p.__proto__ //true\n\nconst proto = {}\nconst obj = Object.create(proto)\n// obj.__proto__ === proto\nObject.getPrototypeOf(obj) === proto // true\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.create()"),": \u521b\u5efa\u4e00\u4e2a\u65b0\u5bf9\u8c61\uff0c\u4f7f\u7528\u73b0\u6709\u7684\u5bf9\u8c61\u6765\u63d0\u4f9b\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u7684 ",(0,r.kt)("inlineCode",{parentName:"p"},"__proto__"),"\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function People(name, age) {\n    this.name = name\n    this.age = age \n}\nconst obj = Object.create(People.prototype) \nobj.__proto__ === People.prototype // true\nObject.create(People.prototype).__proto__ === People.prototype // true\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.assign()")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const obj = Object.assign({}, {name: 'cpp', age: 22})\nobj //{name: 'cpp', age: 22}\nconst obj1 = Object.assign(obj, {name: 24, job: '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08'})\nobj1 // {name: 24, age: 22, job: '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08'}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.is()"),": \u65b9\u6cd5\u5224\u65ad\u4e24\u4e2a\u503c\u662f\u5426\u4e3a\u540c\u4e00\u4e2a\u503c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"NaN === NaN // false\n-0 === +0 // true\n\nObject.is(-0, +0) // false\nObject.is(NaN, NaN) // true\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.values()")),(0,r.kt)("h3",{id:"objectfromentries"},"Object.fromEntries()"),(0,r.kt)("h3",{id:"\u5b9e\u4f8b\u65b9\u6cd5"},"\u5b9e\u4f8b\u65b9\u6cd5"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.prototype.hasOwnProperty()")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Object.prototype.isPrototypeOf()")),(0,r.kt)("h2",{id:"\u539f\u578b"},"\u539f\u578b"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6bd4\u5982\u6211\u4eec\u58f0\u660e\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"li"},"Animal"),"\u6784\u9020\u51fd\u6570"),(0,r.kt)("li",{parentName:"ol"},"\u5c31\u4f1a\u751f\u6210\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"li"},"Animal.prototype"),"\u7684\u539f\u578b\u5bf9\u8c61"),(0,r.kt)("li",{parentName:"ol"},"\u901a\u8fc7",(0,r.kt)("inlineCode",{parentName:"li"},"new Animal"),"\u751f\u6210\u4e00\u4e2aAnimal\u7684\u5b9e\u4f8b\uff0c\u6b64\u65f6\u8be5\u5b9e\u4f8b\u7684",(0,r.kt)("inlineCode",{parentName:"li"},"__proto__"),"\u5c5e\u6027\u6307\u5411",(0,r.kt)("inlineCode",{parentName:"li"},"Animal.prototype")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"Animal.prototype"),"\u53c8\u6307\u5411",(0,r.kt)("inlineCode",{parentName:"li"},"Object.prototype")," ")),(0,r.kt)("h2",{id:"\u7ee7\u627f"},"\u7ee7\u627f"),(0,r.kt)("h3",{id:"es5\u7ee7\u627f"},"es5\u7ee7\u627f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function Animal(name, age) {\n    this.name = name \n    this.age = age\n}\nAnimal.prototype.getName = function() {\n    return this.name\n}\nAnimal.prototype.setName = function(name) {\n    this.name = name\n}\nfunction Person(job, name, age) {\n    Animal.call(this, name, age)\n    this.job = job\n}\nPerson.prototype.getJob = function() {\n    return this.job\n}\nPerson.prototype = Object.create(Animal.prototype)\nPerson.prototype.constructor = Person\n\u0192 Person(job, name, age) {\n    Animal.call(this, name, age)\n    this.job = job\n}\nconst animal = new Animal('\u732b', 22)\nconst p = new Person('cpp', 22, '\u524d\u7aef\u5f00\u53d1')\np // Person\xa0{name: 22, age: '\u524d\u7aef\u5f00\u53d1', job: 'cpp'}\np.getName() // 22\np.setName(24)\np.getName() // 24\n")),(0,r.kt)("h3",{id:"es6\u5b9e\u73b0\u7ee7\u627f"},"es6\u5b9e\u73b0\u7ee7\u627f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"class Animal {\n    constructor(name, age) {\n        this.name = name\n        this.age = age \n    }\n    setName(name) {\n        this.name = name\n    }\n    getName() {\n        return this.name\n    }\n}\nclass Person extends Animal {\n    constructor(name, age, job) {\n        super(name, age)\n        this.job = job\n    }\n    getJob() {\n        return this.job\n    }\n    setJob(job) {\n        this.job = job\n    }\n}\nconst animal = new Animal()\nconst p = new Person('cpp', 22, '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08')\np // Person\xa0{name: 'cpp', age: 22, job: '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08'}\np.name // 'cpp'\np.age // 22\np.getName() // 'cpp'\np.setName('cjz')\np.getName() // 'cjz'\np.getJob() // '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08'\n")),(0,r.kt)("h2",{id:"\u5b9e\u73b0new"},"\u5b9e\u73b0new"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function People(name, age) {\n    this.name = name\n    this.age = age \n}\nfunction myNew(Fn, ...args) {\n    const obj = Object.create(Fn.prototype)\n    const result = Fn.call(obj, ...args)\n    return result instanceof Object ? result : obj \n}\nmyNew(People, 'cpp', 22)\n// People\xa0{name: 'cpp', age: 22}\n")),(0,r.kt)("h2",{id:"\u5b9e\u73b0instanceof"},"\u5b9e\u73b0instanceof"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"Object.getPrototypeOf(Object.prototype) === null // false\n\nfunction myInstanceof(a, b) {\n    if (typeof a !== 'object' || a === null) return false\n    let proto = Object.getPrototypeOf(a)\n    while(true) {\n        if (proto === null) return false\n        if (proto === b.prototype) return true\n        proto = Object.getPrototypeOf(proto)\n    }\n}\n")),(0,r.kt)("h2",{id:"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf"},"\u5b9e\u73b0\u79c1\u6709\u53d8\u91cf"),(0,r.kt)("p",null,"\u521b\u5efa\u4e00\u4e2a Person \u7c7b\uff0c\u5176\u5305\u542b\u516c\u6709\u5c5e\u6027 name \u548c\u79c1\u6709\u5c5e\u6027 age \u4ee5\u53ca\u516c\u6709\u65b9\u6cd5 setAge \uff1b\u521b\u5efa\u4e00\u4e2a Teacher \u7c7b\uff0c\u4f7f\u5176\u7ee7\u627f Person \uff0c\u5e76\u5305\u542b\u79c1\u6709\u5c5e\u6027 studentCount \u548c\u79c1\u6709\u65b9\u6cd5 setStudentCount \u3002\n",(0,r.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u4e00"),"\uff1aes5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const Person = (function () {\n    const _age = Symbol('age')\n    function Person(name, age) {\n        this.name = name\n        this[_age] = age\n    }\n    Person.prototype.setAge = function(age) {\n        this[_age] = age\n    }\n    return Person\n})()\nconst Teacher = (function() {\n    const _studentCount = Symbol('studentCount')\n    const _setStudentCount = Symbol('setStudentCount')\n    function Teacher(name, age, count) {\n        Person.call(this, name, age)\n        this[_studentCount] = count\n    }\n    Teacher.prototype = Object.create(Person.prototype)\n    Teacher.prototype[_setStudentCount] = function(count) {\n        this[_studentCount] = count\n    }\n    Teacher.prototype.set = function(count) {\n        this[_setStudentCount](count)\n    }\n    Teacher.prototype.constructor = Teacher\n    return Teacher\n})()\n\nconst t = new Teacher('cjz', 24, 44)\nt // Teacher\xa0{name: 'cjz', Symbol(age): 24, Symbol(studentCount): 44}\nt.setAge(25)\nt // Teacher\xa0{name: 'cjz', Symbol(age): 25, Symbol(studentCount): 44}\nt.set(45)\nt // Teacher\xa0{name: 'cjz', Symbol(age): 25, Symbol(studentCount): 45}\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u65b9\u6cd5\u4e8c"),"\uff1aes6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const [Person, Teacher] = (function() {\n    const _age = Symbol('age')\n    const _studentCount = Symbol('studentCount')\n    const _setStudentCount = Symbol('setStudentCount')\n\n    class Person {\n        constructor(name, age) {\n            this.name = name\n            this[_age] = age \n        }\n        setAge(age) {\n            this[_age] = age\n        }\n    }\n    class Teacher extends Person {\n        constructor(name, age, count) {\n            super(name, age)\n            this[_studentCount] = count\n        }\n        [_setStudentCount](count) {\n            this[_studentCount] = count\n        }\n        set(count) {\n            this[_setStudentCount](count)\n        }\n    }\n    return [Person, Teacher]\n})()\nconst p = new Person('cpp', 22)\np // Person\xa0{name: 'cpp', Symbol(age): 22}\nconst t = new Teacher('cjz', 24, 44)\nt.name // 'cjz'\nt.setAge(25)\nt // Teacher\xa0{name: 'cjz', Symbol(age): 25, Symbol(studentCount): 44}\nt.set(46)\nt // Teacher\xa0{name: 'cjz', Symbol(age): 25, Symbol(studentCount): 46}\n")),(0,r.kt)("h2",{id:"\u5b9e\u73b0\u6df1\u62f7\u8d1d"},"\u5b9e\u73b0\u6df1\u62f7\u8d1d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const person = {\n    name: 'cpp',\n    age: 22,\n    hobbies: ['game', 'music', 'sleep'],\n    job: {\n        name: '\u9ad8\u7ea7\u524d\u7aef\u5f00\u53d1\u5e08',\n        money: '20k',\n        company: 'xxx'\n    }\n}\nconst copyObj = Object.assign({}, person, {name: 'cjz'})\ncopyObj.hobbies.push('code')\n\nfunction deepClone(source, hash = new WeakMap()) {\n    let target\n    if(hash.has(source)) {\n        return hash.get(source)\n    }\n    if(typeof source === 'object' && source !== null) {\n        target = Array.isArray(source) ? [] : {}\n        hash.set(source, target)\n        for(let [key, value] of Object.entries(source)) {\n            target[key] = deepClone(value, hash)\n        }\n    } else {\n        target = source\n    }\n    return target\n}\nconst obj2 =  deepClone(person)\nobj2.hobbies.push('food')\nobj2.job.money = '30k'\n")))}g.isMDXComponent=!0}}]);